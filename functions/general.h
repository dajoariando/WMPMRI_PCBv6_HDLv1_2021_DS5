// offsets for output control signal
#define MV2_INIT_ofst					(17) // magnetometer init
#define MV2_DA_ofst						(18) // magnetometer digital/analog
#define MV2_INV_ofst					(18) // magnetometer polarity inversion
#define MGNT_START_ofst					(16) // start the magnet programming sequence
#define MGNT_RST_ofst					(15) // reset the magnet programming FSM
#define PULSE_ON_RX_ofst				(14)
#define TX_OPA_SD_MSK_ofst				(13)
#define TX_OPA_EN_ofst					(12) // the enable signal for OpAmp
#define DCONV_FIR_RST_RESET_N_ofst		(11)
#define DCONV_FIR_Q_RST_RESET_N_ofst	(10)
#define NMR_CNT_RESET_ofst				(9)
#define PLL_ANALYZER_RST_ofst			(8)
#define PLL_NMR_SYS_RST_ofst			(7)
#define ACTIVATE_ADC_AVLN_ofst			(6)
#define NMR_CLK_GATE_AVLN_ofst			(5)
#define ADC_FIFO_RST_ofst				(4)
#define FSM_START_ofst					(3)
#define PHASE_CYCLING_ofst				(2)
#define DAC_LDAC_en_ofst				(1)
#define DAC_CLR_ofst					(0)

// Output control signal to FPGA

#define MV2_INIT					(1<<MV2_INIT_ofst) // magnetometer init
#define MV2_DA						(1<<MV2_DA_ofst) // magnetometer digital/analog
#define MV2_INV						(1<<MV2_INV_ofst) // magnetometer polarity inversion
#define MGNT_START					(1<<MGNT_START_ofst) // start the magnet programming sequence
#define MGNT_RST					(1<<MGNT_RST_ofst) // reset the magnet programming FSM
#define PULSE_ON_RX					(1<<PULSE_ON_RX_ofst)
#define TX_OPA_SD_MSK				(1<<TX_OPA_SD_MSK_ofst)		// the mask for TX_OPA_EN. Put 0 to disable TX OPA_SD signal completely. TX_OPA_EN must be enabled to make TX_OPA_SD effective
#define TX_OPA_EN					(1<<TX_OPA_EN_ofst)			// the enable signal for TX OpAmp. Putting to 0 means always disable. Putting to 1 is enable, with TX_OPA_SD_MSK (when enabled) will give the control to the TX_OPA_SD generated by NMR_Controller in the FPGA.
#define DCONV_FIR_RST_RESET_N		(1<<DCONV_FIR_RST_RESET_N_ofst)
#define DCONV_FIR_Q_RST_RESET_N		(1<<DCONV_FIR_Q_RST_RESET_N_ofst)
#define NMR_CNT_RESET				(1<<NMR_CNT_RESET_ofst)
#define PLL_ANALYZER_RST			(1<<PLL_ANALYZER_RST_ofst)
#define PLL_NMR_SYS_RST				(1<<PLL_NMR_SYS_RST_ofst)
#define ACTIVATE_ADC_AVLN			(1<<ACTIVATE_ADC_AVLN_ofst)
#define NMR_CLK_GATE_AVLN			(1<<NMR_CLK_GATE_AVLN_ofst)
#define ADC_FIFO_RST				(1<<ADC_FIFO_RST_ofst)
#define FSM_START					(1<<FSM_START_ofst)
#define PHASE_CYCLING				(1<<PHASE_CYCLING_ofst)
#define DAC_LDAC_en					(1<<DAC_LDAC_en_ofst)				// not used for PCB v6.0
#define DAC_CLR						(1<<DAC_CLR_ofst) 					// not used for PCB v6.0

// default value for cnt_out
#define CNT_OUT_default		(DAC_CLR | NMR_CLK_GATE_AVLN | TX_OPA_EN | TX_OPA_SD_MSK)

// Output control signal to FPGA via I2C addr:0x40
#define RX_FL_ofst		(0)
#define RX_FH_ofst		(1)
#define RX_SEL2_ofst	(2)
#define RX_SEL1_ofst	(3)
#define RX3_L_ofst		(4)
#define RX3_H_ofst		(5)
#define RX2_L_ofst		(6)
#define RX2_H_ofst		(7)
//#define ___			(8)
//#define ___			(9)
//#define ___			(10)
#define PAMP_RDY_ofst	(11)
#define RX1_1H_ofst		(12)
#define RX1_1L_ofst		(13)
#define RX1_2H_ofst		(14)
#define RX1_2L_ofst		(15)
// -----------------------------------------
#define RX_FL_msk		(1<<RX_FL_ofst)
#define RX_FH_msk		(1<<RX_FH_ofst)
#define RX_SEL2_msk		(1<<RX_SEL2_ofst)
#define RX_SEL1_msk		(1<<RX_SEL1_ofst)
#define RX3_L_msk		(1<<RX3_L_ofst)
#define RX3_H_msk		(1<<RX3_H_ofst)
#define RX1_2L_msk		(1<<RX1_2L_ofst)
#define RX1_2H_msk		(1<<RX1_2H_ofst)
//#define ___			(8)
//#define ___			(9)
//#define ___			(10)
#define PAMP_RDY_msk	(1<<PAMP_RDY_ofst)
#define RX1_1H_msk		(1<<RX1_1H_ofst)
#define RX1_1L_msk		(1<<RX1_1L_ofst)
#define RX2_H_msk		(1<<RX2_H_ofst)
#define RX2_L_msk		(1<<RX2_L_ofst)
// Output control signal to FPGA via I2C addr:0x41
//#define ___					(0+16)
//#define ___					(1+16)
//#define ___					(2+16)
//#define ___					(3+16)
//#define ___					(4+16)
//#define ___					(5+16)
#define DUP_STAT_ofst			(6+16)
#define QSW_STAT_ofst			(7+16)
#define PSU_5V_ADC_EN_ofst		(8+16)
#define PSU_5V_ANA_N_EN_ofst	(9+16)
#define PSU_5V_ANA_P_EN_ofst	(10+16)
#define MTCH_NTWRK_RST_ofst		(11+16)
#define PSU_15V_TX_P_EN_ofst	(12+16)
#define PSU_15V_TX_N_EN_ofst	(13+16)
#define PSU_5V_TX_N_EN_ofst		(14+16)
//#define ___					(15+16)
//--------------------------------------------
//#define ___					(0+16)
//#define ___					(1+16)
//#define ___					(2+16)
//#define ___					(3+16)
//#define ___					(4+16)
//#define ___					(5+16)
#define DUP_STAT_msk			(1<<DUP_STAT_ofst)
#define QSW_STAT_msk			(1<<QSW_STAT_ofst)
#define PSU_5V_ADC_EN_msk		(1<<PSU_5V_ADC_EN_ofst)
#define PSU_5V_ANA_N_EN_msk		(1<<PSU_5V_ANA_N_EN_ofst)
#define PSU_5V_ANA_P_EN_msk		(1<<PSU_5V_ANA_P_EN_ofst)
#define MTCH_NTWRK_RST_msk		(1<<MTCH_NTWRK_RST_ofst)
#define PSU_15V_TX_P_EN_msk		(1<<PSU_15V_TX_P_EN_ofst)
#define PSU_15V_TX_N_EN_msk		(1<<PSU_15V_TX_N_EN_ofst)
#define PSU_5V_TX_N_EN_msk		(1<<PSU_5V_TX_N_EN_ofst)
//#define ___					(15+16)
#define CNT_I2C_default			(0)

// Offsets for input status signal
#define MV2_DR_ofst					(4)
#define MGNT_STAT_ofst				(3) // the fsm status of the magnet programming
#define PLL_ANALYZER_lock_ofst		(2)
#define NMR_SEQ_run_ofst			(1)
#define PLL_NMR_SYS_lock_ofst		(0)
// Input status signal from FPGA
#define MV2_DR						(1<<MV2_DR_ofst)
#define MGNT_STAT					(1<<MGNT_STAT_ofst)
#define PLL_ANALYZER_lock			(1<<PLL_ANALYZER_lock_ofst)
#define NMR_SEQ_run					(1<<NMR_SEQ_run_ofst)
#define PLL_NMR_SYS_lock			(1<<PLL_NMR_SYS_lock_ofst)

// general variable
#define ENABLE_MESSAGE	1
#define DISABLE_MESSAGE 0

#define ENABLE 1
#define DISABLE 0

#define SAV_INDV_SCAN 1		// save invidual scan to a file
#define NO_SAV_INDV_SCAN 0	// don't save individual scan to a file

#define STORE_TO_SDRAM_NOREAD 1			// store to sdram, but don't store it in a file
#define RD_DATA_VIA_SDRAM_OR_FIFO 0		// store to a file, either via SDRAM read or FIFO read

#define RD_SDRAM 1						// read via SDRAM, must be used with RD_DATA_VIA_SDRAM_OR_FIFO
#define RD_FIFO 0						// read via FIFO, must be used with RD_DATA_VIA_SDRAM_OR_FIFO

// RX signal path
#define SIG_NORM_PATH	0
#define SIG_S11_PATH	1

#define SEL_ADC1746		1

#define SAV_BINARY		1 // save data in binary format
#define SAV_ASCII		0 // save data in ascii format
